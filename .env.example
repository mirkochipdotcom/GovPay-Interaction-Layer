# Apache
APACHE_SERVER_NAME=localhost
# Porte HTTPS esposte dai container (host)
BACKOFFICE_HTTPS_PORT=8443
FRONTOFFICE_HTTPS_PORT=8444
SPID_PROXY_HTTPS_PORT=8445

# Docker Compose profiles
# Se vuoi avviare anche il container "spid-proxy" (proxy interno), imposta:
#   COMPOSE_PROFILES=spid-proxy
# Se NON vuoi avviarlo (proxy esterno o SPID off), lascia vuoto o commenta.
#COMPOSE_PROFILES=spid-proxy

# SPID Proxy (interno o esterno)
# Base URL pubblico del proxy (usato per i link nei metadata e per i redirect HTTP->HTTPS).
# Esempi:
#  - https://login.my-domain.it/
SPID_PROXY_PUBLIC_BASE_URL=https://localhost:8445

# EntityID del Proxy SP (di default: ${SPID_PROXY_PUBLIC_BASE_URL}/spid-metadata.xml)
# Lascia vuoto per usare il default.
SPID_PROXY_ENTITY_ID=

# Configurazione client applicativo che usa il proxy (es. GovPay Frontoffice)
# redirect_uri: lista separata da virgola. Può contenere path relativi (/callback) o URL assoluti.
SPID_PROXY_CLIENT_ID=govpay_client
# (opzionale) Se vuoi cifrare la response via proxy, imposta anche il secret del client.
SPID_PROXY_CLIENT_SECRET=
SPID_PROXY_REDIRECT_URIS=/proxy-sample.php

# SPID Proxy - Setup non interattivo (generazione vendor/config/metadata al primo avvio)
# Nota: se cambi questi valori dopo il primo avvio, per rigenerare tutto devi eliminare i file
# di setup sul volume (spid-proxy/data) o rifare la procedura di reinstall.
SPID_PROXY_SERVICE_NAME=myservice
SPID_PROXY_PRODUCTION=0

# Abilitazioni
SPID_PROXY_ADD_SPID=1
SPID_PROXY_ADD_CIE=0

# IdP preconfigurati (utile in dev)
SPID_PROXY_ADD_DEMO_IDP=1
SPID_PROXY_ADD_DEMO_VALIDATOR_IDP=1
SPID_PROXY_ADD_AGID_VALIDATOR_IDP=1
# (opzionale) URL metadata IdP locale test
SPID_PROXY_LOCAL_TEST_IDP_METADATA_URL=

# Attributi richiesti in metadata (lista separata da virgola)
SPID_PROXY_ATTRS=spidCode,name,familyName,fiscalNumber,email

# SimpleSAMLphp (admin/secretsalt)
SPID_PROXY_SIMPLESAMLPHP_ADMIN_PASSWORD=admin
# Se vuoto viene generato automaticamente al primo avvio
SPID_PROXY_SIMPLESAMLPHP_SECRETSALT=

# Dati organizzazione nel metadata/cert (default: derivano da APP_ENTITY_NAME / ID_DOMINIO / URL_ENTE)
SPID_PROXY_ORG_NAME=
SPID_PROXY_ORG_DISPLAY_NAME=
SPID_PROXY_ORG_URL=

# Organizzazione: PA o privato
# 1 = Pubblica Amministrazione, 0 = privato
SPID_PROXY_ORG_IS_PUBLIC_ADMIN=1

# Codici organizzazione (per PA: IPACode, per privati: VATNumber/FiscalCode)
# Se non valorizzati, fallback su ID_DOMINIO
SPID_PROXY_ORG_CODE_TYPE=
SPID_PROXY_ORG_CODE=
SPID_PROXY_ORG_IDENTIFIER=
SPID_PROXY_ORG_FISCAL_CODE=
SPID_PROXY_ORG_NACE2_CODE=84.11

# Localizzazione (valori richiesti dalla procedura di setup)
SPID_PROXY_ORG_COUNTRY=IT
SPID_PROXY_ORG_LOCALITY=Locality
SPID_PROXY_ORG_MUNICIPALITY=H501
SPID_PROXY_ORG_PROVINCE=RM

# Contatti (dev default). Per prod usa contatti reali.
SPID_PROXY_ORG_EMAIL=info@organization.org
SPID_PROXY_ORG_PHONE=+3912345678

# Proxy response
SPID_PROXY_SIGN_RESPONSE=1
SPID_PROXY_ENCRYPT_RESPONSE=0
SPID_PROXY_LEVEL=2
SPID_PROXY_ATCS_INDEX=0
SPID_PROXY_TOKEN_EXP_TIME=1200
SPID_PROXY_RESPONSE_ATTR_PREFIX=

# Debug
# APP_DEBUG controlla la modalità di visualizzazione errori e diagnostica:
# 0/false: errori minimi, nessuna diagnostica, nessuna rotta /_diag attiva
# 1/true: errori dettagliati, diagnostica abilitata, rotte di test e debug disponibili
APP_DEBUG=0
# ENABLE_DEBUG_TOOL controlla la disponibilità delle utility di debug lato applicazione (es: tool di test, rotte /debug):
# 0/false: tool di debug disabilitati, anche se la directory debug è montata
# 1/true: tool di debug abilitati (ma attenzione: i file statici in debug/ sono sempre accessibili se il volume è montato)
ENABLE_DEBUG_TOOL=0

# Database
DB_ROOT_PASSWORD=changeme
DB_NAME=govpay
DB_USER=govpay
DB_PASSWORD=changeme
# Credenziali dedicate al frontend cittadini (stesso DB fisico, privilegi separati)
DB_NAME_CITTADINI=govpay
DB_USER_CITTADINI=govpay_cittadini
DB_PASSWORD_CITTADINI=changeme_cittadini

# Configurazione Generale
APP_ENTITY_NAME="Comune di Esempio"
APP_ENTITY_SUFFIX="Provincia di Esempio"
APP_ENTITY_GOVERNMENT="Regione Esempio"
#PARTITA IVA
ID_DOMINIO="66280920373"
# Identificativo applicazione A2A
ID_A2A="YOUR_A2A_ID_HERE"

# URL del Comune (usato per link e riferimenti)
URL_ENTE="https://www.comune.esempio.rm.it"

# Configurazione API GovPay (Base URL dei servizi)
GOVPAY_PENDENZE_URL="https://api.instanza.govpay.it/GovPay-Pendenze/v2"
GOVPAY_PAGAMENTI_URL="https://api.instanza.govpay.it/GovPay-Pagamenti/v3"
GOVPAY_RAGIONERIA_URL="https://api.instanza.govpay.it/GovPay-Ragioneria/v2"
GOVPAY_BACKOFFICE_URL="https://api.instanza.govpay.it/GovPay-Backoffice/v1"
GOVPAY_PENDENZE_PATCH_URL="https://api.instanza.govpay.it/GovPay-Pendenze/v2"

# Autenticazione GOVPAY [basic,form,ssl, sslheader]
AUTHENTICATION_GOVPAY=sslheader

#NECESSARIO PER basic
#GOVPAY_USER=user
#GOVPAY_PASSWORD=password

#NECESSARI PER sslheader
GOVPAY_TLS_CERT=/var/www/certificate/certificate.cer
GOVPAY_TLS_KEY=/var/www/certificate/private_key.key

# Amministratore di default (seed). Modificare per l'ambiente locale.
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=changeme

#TASSONOMIA PAGOPA UFFICIALI
TASSONOMIE_PAGOPA="https://static-contents.developer.pagopa.it/devportal-docs/docs/lBilmEcN90PbMrjKX1ww/.gitbook/assets/tassonomia.json"